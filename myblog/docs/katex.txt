
● Perfect! The Explore agent found the root cause - 
single quotes inside backtick-delimited set:html attributes are breaking the production build. 
Let me fix all these issues:How to add LaTeX Equations in Astro blog posts


Updated:
22 Mar, 2025
|
Edit page
This document demonstrates how to use LaTeX equations in your Markdown files for AstroPaper. LaTeX is a powerful typesetting system often used for mathematical and scientific documents.

Free Close-up of complex equations on a chalkboard, showcasing chemistry and math symbols. Stock Photo
Photo by Vitaly Gariev
Table of contents#
Instructions#
In this section, you will find instructions on how to add support for LaTeX in your Markdown files for AstroPaper.

Install the necessary remark and rehype plugins by running:

pnpm install rehype-katex remark-math katex
Copy
Update the Astro configuration to use the these plugins:

// ...
import remarkMath from "remark-math";
import rehypeKatex from "rehype-katex";

export default defineConfig({
  // ...
  markdown: {
    remarkPlugins: [
      remarkMath,
      remarkToc,
      [remarkCollapse, { test: "Table of contents" }],
    ],
    rehypePlugins: [rehypeKatex],
    shikiConfig: {
      // For more themes, visit https://shiki.style/themes
      themes: { light: "min-light", dark: "night-owl" },
      wrap: false,
    },
  },
  // ...
});
astro.config.tsCopy
Import KaTeX CSS in the main layout file

---
import { SITE } from "@config";

// astro code
---

<!doctype html>
<!-- others... -->
<script is:inline src="/toggle-theme.js"></script>

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"
/>

<body>
  <slot />
</body>
src/layouts/Layout.astroCopy
As the last step, add a text-color for katex in typography.css.

@plugin '@tailwindcss/typography';

@layer base {
  /* other classes */

  /* Katex text color */
  .prose .katex-display {
    @apply text-foreground;
  }

  /* ===== Code Blocks & Syntax Highlighting ===== */
  /* other classes */
}
src/styles/typography.cssCopy
And voilà, this setup allows you to write LaTeX equations in your Markdown files, which will be rendered properly when the site is built. Once you do it, the rest of the document will appear rendered correctly.

Inline Equations#
Inline equations are written between single dollar signs $...$. Here are some examples:

The famous mass-energy equivalence formula: $E = mc^2$
The quadratic formula: $x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$
Euler’s identity: $e^{i\pi} + 1 = 0$
Block Equations#
For more complex equations or when you want the equation to be displayed on its own line, use double dollar signs $$...$$:

The Gaussian integral:

$$ \int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi} $$
Copy
The definition of the Riemann zeta function:

$$ \zeta(s) = \sum_{n=1}^{\infty} \frac{1}{n^s} $$
Copy
Maxwell’s equations in differential form:

$$
\begin{aligned}
\nabla \cdot \mathbf{E} &= \frac{\rho}{\varepsilon_0} \\
\nabla \cdot \mathbf{B} &= 0 \\
\nabla \times \mathbf{E} &= -\frac{\partial \mathbf{B}}{\partial t} \\
\nabla \times \mathbf{B} &= \mu_0\left(\mathbf{J} + \varepsilon_0 \frac{\partial \mathbf{E}}{\partial t}\right)
\end{aligned}
$$
Copy
Using Mathematical Symbols#
LaTeX provides a wide range of mathematical symbols:

Greek letters: $\alpha$, $\beta$, $\gamma$, $\delta$, $\epsilon$, $\pi$
Operators: $\sum$, $\prod$, $\int$, $\partial$, $\nabla$
Relations: $\leq$, $\geq$, $\approx$, $\sim$, $\propto$
Logical symbols: $\forall$, $\exists$, $\neg$, $\wedge$, $\vee$